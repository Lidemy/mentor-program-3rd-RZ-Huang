## 什麼是 DNS？
* DNS（Domain Name System），把瀏覽器 request 的域名轉換成 IP 位址的一個系統，類似電話簿的概念，什麼名稱對應什麼號碼，而它知道域名和 IP 位址之間的對應關係，進而便於在機器之間做傳送。

## Google 有提供的公開的 DNS，對 Google 的好處以及對一般大眾的好處是什麼？
* 對 Google 的好處：可以利用 client 回傳的資料來蒐集各種數據，這些數據可以進而觀察所有使用者體驗與其營運方針改善，或者是加強演算法相關技術。

* 對一般大眾的好處：因為 Google Pubice DNS 擁有快取的功能，因此 DNS 的更新時間快，進而讓使用者上網速度更快。同時 Google 對於此項服務的安全機制下了一番功夫，並且有效避免導入到惡意網站去。


## 什麼是資料庫的 lock？為什麼我們需要 lock？
一個理想的搶購頁面是，當消費者看到還有剩餘數量時，按下搶購後，會看到剩餘數量有減少（表示資料庫中的商品數量減少）。但是當剩下 1 個數量時，同時有多位消費者按下按鈕，若有複數以上的請求在同一時間被後端接收到，會有超賣的問題，這牽扯到一個訊號傳輸中常見的現象：「Race condition」。

### 解決方式
```
$conn->autocommit(FALSE);
$conn->begin_transaction();
$conn->query("SELECT amount from products where id = 1 for update");
$conn->commit();
```
在 query 字串的最後面加上 **`for update`** 即可避免 Race condition 的情況。

它背後在操作的動作是當有一個請求送進來後端使得 php 這個一連串的 query 程式碼開始跑而且還沒跑完時，又有一個新的請求進來後端，但這時新的請求沒辦法進到這個 query，因為 `for update` 的設定，導致這個 query 被 **lock** 住，直到原本在跑的請求跑完 `commit()` 後，新的請求才能影響到這個 query，等於是在排隊等待的意思。

但是這樣做有一個缺點是會**影響效能**，網頁的效能，因為每筆進來的請求都需要等待，因此 `for update` 的範圍越小越好，鎖定的 query 越詳細越好，不然影響到很多個層面的運作，甚至是整個 table，效能會不堪設想。

## NoSQL 跟 SQL 的差別在哪裡？
### NoSQL

NoSQL，Not only SQL，其主要的特點有：

1. 沒有 schema（table 的結構），可以想像成存 JSON 資料進 database
    ex. MongoDB

2. 用 key-value 來存

3. 不支援 JOIN 的 method

4. 通常用來存一些結構不固定的資料（log 之類的）

而由於他有上列的特點，進而比起 SQL 來說擁有方便擴展資料的優勢，因此當你需要大量數據存進資料庫並且是不固定的資料格式，使用 NoSQL 是很好的做法。

SQL 則是都會使用 schema來儲存相關資料，因此其資料的格式相對嚴謹，另外 SQL 擁有 transaction 的功能，可以對兩個以上的資料更新同時動作，一起執行。

實務上並沒有說使用 NoSQL 還是 SQL 比較好，這是一種權重的取捨，端看於你當下做的 project 是什麼樣的類型，假如是在專案實行之前就知道所有的數據要放置什麼值，並且沒有改變的必要，對於每個數據都要完整且統一的話，同時需要較成熟的技術支援，可以選擇 SQL；對於數據的類型與確定性不是很明確或者是隨時都在變動，對於資料類型較為寬鬆想要立即開發專案達到快速完成，或者是希望擁有彈性較大的資料型態，選擇 NoSQL。實務上也可以同時使用 SQL 和 NoSQL。

## 資料庫的 ACID 是什麼？
講到 ACID 以前要先說到 Transaction，Transaction 像是同時會有兩個 query 以上同時關聯與作動，要嘛全部都要成功；要嘛全部都要失敗，一個同步的概念。

像是轉帳交易，從 A 轉出 20 元給 B，B 同時要獲得 20 元才行，這兩項動作缺一不可。

實際會應用的地方像上面說的轉帳是一種，還有購物平台同時買好幾項商品，或是牽涉到多種 query 的動作的地方。

而 ACID 是為了保證 Transaction 的正確性，要符合以下四個特性：
1. 原子性 atomicity：同步，同時動作的 query 都一定要執行成功，否則全部執行失敗。
2. 一致性 consistency：維持資料的一致性，像是這個市場擁有 100 元，A 給 B 20 元之後，這個市場依然存在總數 100 元的金額。
3. 隔離性 isolation：每個交易之間不會互相影響到，而且也不能同時改到一樣的數值。
4. 持久性 durability：交易成功之後，寫入的資料就會一直在那邊，不會不見。